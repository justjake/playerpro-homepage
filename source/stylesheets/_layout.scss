/*
    Layout.scss
    Page framework definitions
*/

@import "globals";

$mobile-width: 768px;

$mobile  : new-breakpoint(max-width, $mobile-width);
$desktop : new-breakpoint($mobile-width);
$widescreen : new-breakpoint(1400px);

// visual grid for devel
$visual-grid: true;

$DEVEL: true;

/* Responsive */
@mixin only-visible-at($breakpoint, $display-mode: block) {
    display: none;
    @include media($breakpoint) {
        display: $display-mode;
    }
}

@mixin mobile-only($display-mode: block) {
    @inlcude only-visible-at($mobile, $display-mode);
}

@mixin desktop-only($display-mode: block) {
    @include only-visible-at($desktop, $display-mode);
}

@mixin widescreen-only($display-mode: block) {
    @include only-visible-at($widescreen, $display-mode);
}

.left-data-col, .center-col, .right-aux-col {
    background: $bg-grey;
    @include box-sizing(border-box);
    padding: 0 1em;
}

/* page columns */
.left-data-col {
    @include media($desktop) {
        @include span-columns(3);
    }
}

.center-col {
    @include media($desktop) {
        @include span-columns(12 - 3);
        @include omega;
    }

    @include media($widescreen) {
        @include span-columns(12 - 6);
    }
}

.right-aux-col {
    @include span-columns(3);
    @include omega;
    @include widescreen-only;
}

/* carousel */
.carousel {
    width: 100%;
    height: em(300px);
    overflow: hidden;
    position: relative;
    margin-bottom: 1em;

    background: black(0.9);

    img {
        width: 100%;
    }

    caption {
        @include position(absolute, 0 0px 0px 0px);
        padding: 1em;
    }
}


/* tabs
    %nav.tabs
      ul
        li
          a(.active)
*/
.tabbed {
    background: $bg-light;
    border: 1px solid $text-mid;

    & > section {
        padding: 0 1em;
    }
}

nav.tabs {
    @include clearfix;

    background: $bg-light;
    border-bottom: 1px solid $text-mid;

    ul {
        margin: 0;
        padding: 0;
        list-style-type: none;
    }

    li {
        display: inline;
    }

    a {
        display: block;
        float: left;
        padding: 0.5em 1em;

        border-right: 1px solid $text-mid;
    }
}

/* card */
$card_height: 645px;
$card_width: 456px;

$card_scale: 1;
@function c($pixels, $ctx: $em) {
    @return em($pixels * $card_scale, $ctx);
}

/* measurements taken from the PSD at full size */
@mixin card($card_scale: 1) {
    position: relative;
    width: c($card_width);
    height: c($card_height);
    margin: 1em;

    border: c(22px)  solid #fff;
    border-radius: c(14px);
    box-shadow: 0px 2px 1em black(0.3);

    overflow: hidden;

    & > img {
        width: 100%;
    }

    figcaption {
        @include position(absolute, 0 0px 0px 0px);
        height: c(134px);

        background: $bg-light;
        background: rgba(#fff, 0.85);
    }

    h1 {
        margin-top: c(32px, c(23px));
        font-size: c(23px);
    }

    .team {
        float: left;
        margin-left: c(5px);
        margin-top: c(25px);
        margin-right: c(16px);

        width: c(96px);
    }

    .number {
        float: right;
        position: relative;

        width: c(60px);
        height: c(60px);

        margin: c(6px) c(4px) 0 0;

        line-height: c(60px);
        text-align: center;

        .bg {
            @include position(absolute, 0px 0 0 0px);
            width: 100%;
            height: 100%;
        }

        /* text in front of badge */
        span {
            position: relative;
            z-index: 1;
            color: #fff;
        }
    }

    .stats {
        @include position(absolute, 0 0px 0px 0);
        width: c(305px);
        height: c(63px);

        border-top: 1px solid #bcbcbc;
        color: $black;

        overflow: hidden;

        em {
            color: $orange-mobile;
            font-style: normal;
            display: block;
        }

        div {
            @include box-sizing(border-box);
            float: left;
            width: (100% / 4);
            border-right: 1px solid #bcbcbc;
            text-align: center;
            padding: c(12px, c(16px)) 0;
            font-size: c(16px);

            &:last-child {
                border-right: none;
            }
        }

        .sport img { width: c(31px); }
    }
}

.card {
    @include card(1);
}

$card_scale: 0.8;
@function c($pixels, $ctx: $em) {
    @return em($pixels * $card_scale, $ctx);
}
.card-small {
    @include card(0.8);
}

$card_scale: 0.7;
@function c($pixels, $ctx: $em) {
    @return em($pixels * $card_scale, $ctx);
}
.card-smallest {
    @include card(0.7);
}
