/*
    Layout.scss
    Page framework definitions
*/

@import "globals";

$mobile-width: 768px;

$iphone  : new-breakpoint(max-width 480px);
$mobile  : new-breakpoint(max-width $mobile-width);
$desktop : new-breakpoint($mobile-width);
$widescreen : new-breakpoint(1300px);

// visual grid for devel
$DEVEL: true;

/* Responsive */
@mixin only-visible-at($breakpoint, $display-mode: block) {
    display: none;
    @include media($breakpoint) {
        display: $display-mode;
    }
}

@mixin mobile-only($display-mode: block) {
    @inlcude only-visible-at($mobile, $display-mode);
}

@mixin desktop-only($display-mode: block) {
    @include only-visible-at($desktop, $display-mode);
}

@mixin widescreen-only($display-mode: block) {
    @include only-visible-at($widescreen, $display-mode);
}

/* sticky footer */
html, body {
  height: 100%;
  margin: 0;
}

body {
  display: table;
  width: 100%;
}

header.main, .page, .footer.main {
  display: table-row;
  height: 1px;
  & > .container {
    display: table-cell;
    position: relative;
  }
}

.page {
  height: 100%;

  & > .container {
      min-height: 100%;
  }
}


/* page columns */
$data-col-size: em(320px);
$col-padding: 1em;

.page > .container {
    @include media($desktop) {
        @include row(table)
    }
}

.left-data-col, .center-col, .right-aux-col {
    @include box-sizing(border-box);
    @include clearfix;

    background: $bg-grey;
    padding: $col-padding $col-padding 0 $col-padding;
    vertical-align: top;
}

.left-data-col {
    @include media($desktop) {
        display: table-cell;
        width: $data-col-size;
    }
}

.center-col {
    @include media($desktop) {
        display: table-cell;
    }
}

.right-aux-col {
    width: $data-col-size;
    @include widescreen-only(table-cell);
}

/* shrink everything for small phones */
body {
    @include media($iphone) {
        font-size: em(14px);
    }
}

/* column styling */
.center-col {
    background: $bg-light;
}

.left-data-col {
    background: #444;
    color: $text-mid;
}

/* hide carousel on mobile: defer to card for visual content */
.center-col .carousel {
    @include media($mobile) {
        display: none;
    }
}
