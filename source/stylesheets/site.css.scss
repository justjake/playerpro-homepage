// Front-page styling
// Jake Teton-Landis
// <just.1.jake@gmail.com>
// Febuary 2013
@import "_globals";
@import "_forms";

/* Static imports */
@import "_vendor/normalize.css";

@import url(http://fonts.googleapis.com/css?family=Roboto:700italic,700,300,300italic,100,100italic);
@import "fonts/quicksand/stylesheet.css";



// Global skinning
body {
  color: $text-dark;
  background: $bg-light;
  font-family: $font-family;
  font-weight: 300;
}


// Header
$header-box-shadow: 0px 1px 3px black(0.22);
header.main {
  @include border-box;
  padding: 0 em(12px);

  background: $white;
  line-height: em(80px);
  height: em(80px);
  color: $burnt-umber;
  box-shadow: $header-box-shadow;

  @include layer($layer-header);

  h1#title {
    float: left;
    margin: 0;

    a {
      display: block;
      text-decoration: none
    }

    img {
      display: inline-block;
      vertical-align: middle;
      margin-top: -4px;
      margin-left: -2px;
      margin-right: 2px;

    }

    span {
      display: inline-block;
      vertical-align: middle;
      @include image-replacement;
      background-image: url("../images/navbar-logo.png");

      width: 172px;
      height: 35px;
    }
  }

  .login-menu {
    float: right;

    .forgot-password {
      float: right;
    }

    h1 {
      display: inline-block;
      line-height: 1.5;

      /* text style */
      @include tagline;
      font-size: em(12px);
      text-transform: uppercase;

      /* positioning for the dropdown arrow */
      margin: 0 1em 0 0;
      position: relative;
      padding-right: 1.4em;

      /* drop-down triangle in CSS */
      &:after {
        content: "";
        @include triangle(em(10px, 12px), $burnt-umber, down);
        @include position(absolute, em(6px, 12px) 0px 0 0);
      }
    }

    form {
      line-height: 1.5;
      @include position(absolute, 100% em(12px) 0 0);
      background: $white;
      box-shadow: $header-box-shadow;
    }
  }
}


// Splash page
$section-padding: 1.5 * $em;

.page {
  display: table;
}

section.about-the-app {
  display: table-cell;
  width: 50%;
  vertical-align: top;

  h1 {
    padding: 1*$em $section-padding;

    margin: 0;
    background: $orange;
    color: $white;
    font-size: em(35px);
    font-weight: bold;

    div {
      @include image-replacement;
      background: url("../images/white-logo.png") no-repeat;
      width: 235px;
      height: 43px;
    }
  }

  h2 {
    @include tagline;

    margin: 0;
    background: rgba($orange, 0.2);
    padding: 1em em($section-padding);
  }

  li {
    margin-bottom: 0.5em;
  }

  & > .container > p {
    padding: 0 em($section-padding);
  }
}

// card flip and friends
$flip-time: 1.0s;
$card-front-layer: 1;

aside.app-preview {
  display: table-cell;

  background: url("../images/grass-300.jpg") repeat;
  box-shadow: inset 0px 0px 3em black(0.3);
  border: 1px solid black;

  .container {
    /* because we can't use position: relative with display: table-cell
       (firefox issue) */
    padding-top: 80px;
    text-align: center;

    /* required for depth in the 3D card flip */
    @include perspective(1000);
    position: relative;

  }

  #player-card {
    position: relative;
    margin: 0 auto;

    width: 239px;
    height: 362px;

    border: 10px solid $bg-light;
    box-shadow: 0px 36px 68px black(0.75);
    border-radius: 5px;

    /* set up for the card flip */
    @include transform-style(preserve-3d);
    @include transition(all $flip-time linear);

    .front, .back {
      @include layer($card-front-layer, $position: absolute);
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      @include backface-visibility(hidden);

      /* we will be applying opacity: 0 to hide faces in IE.
         this introduces a delay as part of the transition process */
      @include transition(opacity ($flip-time/2) steps(1));
    }

    .back {
      @include layer($card-front-layer, -1, absolute);
      @include transform(rotateY(180deg));
      background: red;
    }

    &.back-size, &:hover {
      @include transform(rotateY(180deg));
      .back {
        @include layer($card-front-layer, 1, absolute);
      }
    }

    /* flip state class */
    //&.front-size {
    //  .back {opacity: 0 }
    //}
    //&.back-side, &:hover {
    //  @include transform(rotateY(180deg));
    //  .front { opacity: 0 }
    //  .back  { opacity: 1 }
    //}
  }
}

.features {
  @include clearfix;
  background: $bg-grey;
  padding: em($section-padding);
  padding-right: em($section-padding - 20px);

  h3 {
    font-size: 1em;
    color: $black;
  }

  .feature {
    float: left;
    padding-right: em(20px);
    width: 140px;
  }
}